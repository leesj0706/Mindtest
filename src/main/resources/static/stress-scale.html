<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Stress Scale Test</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Noto+Sans+KR:wght@300;400;500&display=swap" rel="stylesheet">

    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        /* 전체 배경 = 질문 배경 이미지 */
        body {
            font-family: 'Noto Sans KR', system-ui, sans-serif;
            background-image: url("/images/2배경사각형.png");
            background-size: 100% auto;
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-color: #d8e7c9;
            color: #30462b;
            display: flex;
            justify-content: center;
        }

        .page-wrapper {
            width: 1440px;
            padding: 24px 40px 80px;
        }

        /* 상단 메뉴바 */
        .nav-wrapper {
            position: relative;
            width: 100%;
            display: flex;
            justify-content: center;
            margin-bottom: 32px;
        }

        .nav-bar-img {
            width: 100%;
            max-width: 1200px;
            display: block;
        }

        .nav-inner {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 1120px;
            transform: translate(-50%, -50%);
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 13px;
            color: #737373;
        }

        .nav-logo {
            font-weight: 600;
            color: #4a5c4a;
            cursor: pointer;
            font-size: 13px;
            display: flex;
            align-items: center;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .nav-link {
            cursor: pointer;
            font-size: 13px;
            display: flex;
            align-items: center;
        }

        .nav-link.research {
            padding: 4px 12px;
            border-radius: 999px;
            background-color: rgba(0,0,0,0.03);
        }

        /* 타이틀 */
        .title-section {
            text-align: center;
            margin-top: 16px;
            margin-bottom: 32px;
        }

        .title-section h1 {
            font-family: 'Playfair Display', serif;
            font-size: 48px;
            margin-bottom: 24px;
            color: #30462b;
        }

        .title-section p {
            font-size: 14px;
            line-height: 1.8;
        }

        .title-divider {
            width: 70%;
            margin: 24px auto 0;
            border-top: 1px solid rgba(48,70,43,0.2);
        }

        /* 질문 영역 */
        .questions-wrapper {
            margin: 40px auto 0;
            width: 860px;
            padding: 40px 0 52px;
            background: transparent;

            /* 가운데 정렬용 */
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .question-row {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            width: 860px;
            /* ***** 이 부분이 수정되었습니다. (175px -> 263px) ***** */
            margin-left: 263px;
        }

        /* 번호 원 + 숫자 */
        .q-number {
            width: 36px;
            flex: 0 0 36px;
            margin-right: 10px;
            position: relative;
        }

        .q-number img {
            width: 36px;
            height: 36px;
            display: block;
        }

        /* 숫자 위로 +7px */
        .q-number span {
            position: absolute;
            top: 7px;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            font-size: 12px;
            font-weight: 500;
            color: #ffffff;
            margin-right: -10px;
        }

        .q-text {
            font-size: 13px;
            margin-bottom: 6px;
            color: #273821;
        }

        .q-options-inner {
            display: flex;
            justify-content: center;
            gap: 50px;
            font-size: 11px;
            color: #344632;
        }

        .q-options-inner label {
            display: flex;
            align-items: center;
            gap: 4px;
            white-space: nowrap;
        }

        input[type="radio"] {
            transform: scale(0.9);
            accent-color: #506f3e;
        }

        /* 결과보기 버튼 영역 */
        .submit-section {
            margin-top: 36px;
            text-align: center;
        }

        .result-btn {
            border: none;
            border-radius: 999px;
            padding: 12px 40px;
            background-color: #506f3e;
            color: #ffffff;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
        }

        .result-btn:hover {
            opacity: 0.9;
        }
    </style>
</head>

<body>
<div class="page-wrapper">

    <div class="nav-wrapper">
        <img src="/images/2상단메뉴바.png" class="nav-bar-img" alt="top bar">
        <div class="nav-inner">
            <a href="/index.html" class="nav-logo" style="text-decoration:none; color:inherit;">Mind</a>
            <div class="nav-right">
                <div class="nav-link">About</div>
                <a href="/research-notes.html" class="nav-link research" style="text-decoration:none; color:inherit;">Research Notes</a>
            </div>
        </div>
    </div>

    <section class="title-section">
        <h1>Stress Scale Test</h1>
        <p>
            본 테스트는 자신의 스트레스 상태를 수치(점수)로 알아볼 수 있는 테스트로<br>
            ‘한국판 스트레스 자각척도(PSS)’를 참고하여 구성되었습니다.<br>
            총 10문항으로 약 5분 정도 소요되며, <strong>현재의 나</strong>를 기준으로 답변해 주세요.<br>
            점수에 따라 스트레스 수준과 회복 방향 안내를 제공합니다.
        </p>
        <hr class="title-divider">
    </section>

    <form id="stressForm">
        <section class="questions-wrapper">

            <div class="question-row">
                <div class="q-number">
                    <img src="/images/2숫자원.png" alt=""><span>01</span>
                </div>
                <div>
                    <p class="q-text">예상치 못한 일이 생겨서 당황했던 적이 있다.</p>
                    <div class="q-options-inner">
                        <label><input type="radio" name="q1" value="0">전혀 없었다</label>
                        <label><input type="radio" name="q1" value="1">거의 없었다</label>
                        <label><input type="radio" name="q1" value="2">때때로 있었다</label>
                        <label><input type="radio" name="q1" value="3">자주 있었다</label>
                        <label><input type="radio" name="q1" value="4">매우 자주 있었다</label>
                    </div>
                </div>
            </div>

            <div class="question-row">
                <div class="q-number">
                    <img src="/images/2숫자원.png" alt=""><span>02</span>
                </div>
                <div>
                    <p class="q-text">중요한 일을 조절하기 어렵다고 느낀 적이 있다.</p>
                    <div class="q-options-inner">
                        <label><input type="radio" name="q2" value="0">전혀 없었다</label>
                        <label><input type="radio" name="q2" value="1">거의 없었다</label>
                        <label><input type="radio" name="q2" value="2">때때로 있었다</label>
                        <label><input type="radio" name="q2" value="3">자주 있었다</label>
                        <label><input type="radio" name="q2" value="4">매우 자주 있었다</label>
                    </div>
                </div>
            </div>

            <div class="question-row">
                <div class="q-number">
                    <img src="/images/2숫자원.png" alt=""><span>03</span>
                </div>
                <div>
                    <p class="q-text">초조하거나 스트레스가 쌓였다고 느낀 적이 있다.</p>
                    <div class="q-options-inner">
                        <label><input type="radio" name="q3" value="0">전혀 없었다</label>
                        <label><input type="radio" name="q3" value="1">거의 없었다</label>
                        <label><input type="radio" name="q3" value="2">때때로 있었다</label>
                        <label><input type="radio" name="q3" value="3">자주 있었다</label>
                        <label><input type="radio" name="q3" value="4">매우 자주 있었다</label>
                    </div>
                </div>
            </div>

            <div class="question-row">
                <div class="q-number">
                    <img src="/images/2숫자원.png" alt=""><span>04</span>
                </div>
                <div>
                    <p class="q-text">개인적인 문제를 해결하는 능력에 대해 자신감을 느낀 적이 있다.</p>
                    <div class="q-options-inner">
                        <label><input type="radio" name="q4" value="0">전혀 없었다</label>
                        <label><input type="radio" name="q4" value="1">거의 없었다</label>
                        <label><input type="radio" name="q4" value="2">때때로 있었다</label>
                        <label><input type="radio" name="q4" value="3">자주 있었다</label>
                        <label><input type="radio" name="q4" value="4">매우 자주 있었다</label>
                    </div>
                </div>
            </div>

            <div class="question-row">
                <div class="q-number">
                    <img src="/images/2숫자원.png" alt=""><span>05</span>
                </div>
                <div>
                    <p class="q-text">일상생활의 일들이 내가 원하는 대로 진행되고 있다고 느낀 적이 있다.</p>
                    <div class="q-options-inner">
                        <label><input type="radio" name="q5" value="0">전혀 없었다</label>
                        <label><input type="radio" name="q5" value="1">거의 없었다</label>
                        <label><input type="radio" name="q5" value="2">때때로 있었다</label>
                        <label><input type="radio" name="q5" value="3">자주 있었다</label>
                        <label><input type="radio" name="q5" value="4">매우 자주 있었다</label>
                    </div>
                </div>
            </div>

            <div class="question-row">
                <div class="q-number">
                    <img src="/images/2숫자원.png" alt=""><span>06</span>
                </div>
                <div>
                    <p class="q-text">꼭 해야 할 일들을 해내기 어렵다고 느낀 적이 있다.</p>
                    <div class="q-options-inner">
                        <label><input type="radio" name="q6" value="0">전혀 없었다</label>
                        <label><input type="radio" name="q6" value="1">거의 없었다</label>
                        <label><input type="radio" name="q6" value="2">때때로 있었다</label>
                        <label><input type="radio" name="q6" value="3">자주 있었다</label>
                        <label><input type="radio" name="q6" value="4">매우 자주 있었다</label>
                    </div>
                </div>
            </div>

            <div class="question-row">
                <div class="q-number">
                    <img src="/images/2숫자원.png" alt=""><span>07</span>
                </div>
                <div>
                    <p class="q-text">일상생활에서 발생한 짜증을 잘 다스릴 수 있었다.</p>
                    <div class="q-options-inner">
                        <label><input type="radio" name="q7" value="0">전혀 없었다</label>
                        <label><input type="radio" name="q7" value="1">거의 없었다</label>
                        <label><input type="radio" name="q7" value="2">때때로 있었다</label>
                        <label><input type="radio" name="q7" value="3">자주 있었다</label>
                        <label><input type="radio" name="q7" value="4">매우 자주 있었다</label>
                    </div>
                </div>
            </div>

            <div class="question-row">
                <div class="q-number">
                    <img src="/images/2숫자원.png" alt=""><span>08</span>
                </div>
                <div>
                    <p class="q-text">최상의 컨디션이라고 자주 느꼈다.</p>
                    <div class="q-options-inner">
                        <label><input type="radio" name="q8" value="0">전혀 없었다</label>
                        <label><input type="radio" name="q8" value="1">거의 없었다</label>
                        <label><input type="radio" name="q8" value="2">때때로 있었다</label>
                        <label><input type="radio" name="q8" value="3">자주 있었다</label>
                        <label><input type="radio" name="q8" value="4">매우 자주 있었다</label>
                    </div>
                </div>
            </div>

            <div class="question-row">
                <div class="q-number">
                    <img src="/images/2숫자원.png" alt=""><span>09</span>
                </div>
                <div>
                    <p class="q-text">내가 통제할 수 없는 일 때문에 화가 난 적이 있다.</p>
                    <div class="q-options-inner">
                        <label><input type="radio" name="q9" value="0">전혀 없었다</label>
                        <label><input type="radio" name="q9" value="1">거의 없었다</label>
                        <label><input type="radio" name="q9" value="2">때때로 있었다</label>
                        <label><input type="radio" name="q9" value="3">자주 있었다</label>
                        <label><input type="radio" name="q9" value="4">매우 자주 있었다</label>
                    </div>
                </div>
            </div>

            <div class="question-row">
                <div class="q-number">
                    <img src="/images/2숫자원.png" alt=""><span>10</span>
                </div>
                <div>
                    <p class="q-text">어려운 일이 너무 많이 쌓여 감당하기 어렵다고 느낀 적이 있다.</p>
                    <div class="q-options-inner">
                        <label><input type="radio" name="q10" value="0">전혀 없었다</label>
                        <label><input type="radio" name="q10" value="1">거의 없었다</label>
                        <label><input type="radio" name="q10" value="2">때때로 있었다</label>
                        <label><input type="radio" name="q10" value="3">자주 있었다</label>
                        <label><input type="radio" name="q10" value="4">매우 자주 있었다</label>
                    </div>
                </div>
            </div>

        </section>

        <div class="submit-section">
            <button type="button" class="result-btn" onclick="calculateScoreAndGo()">
                결과 보기
            </button>
        </div>
    </form>

</div>

<script>
    function calculateScoreAndGo() {
        const normalItems = ['q1', 'q2', 'q3', 'q6', 'q9', 'q10']; // 그대로 점수
        const reverseItems = ['q4', 'q5', 'q7', 'q8'];             // 역채점

        let total = 0;

        // 일반 문항 채점
        for (const name of normalItems) {
            const checked = document.querySelector(`input[name="${name}"]:checked`);
            if (!checked) {
                alert('모든 문항에 응답해 주세요.');
                return;
            }
            total += parseInt(checked.value, 10);
        }

        // 역채점 문항 채점 (0↔4, 1↔3, 2는 그대로)
        for (const name of reverseItems) {
            const checked = document.querySelector(`input[name="${name}"]:checked`);
            if (!checked) {
                alert('모든 문항에 응답해 주세요.');
                return;
            }
            const raw = parseInt(checked.value, 10);
            total += (4 - raw);
        }

        // 점수 구간에 따라 단계 결정
        // 0~13점: 정상 (1단계)
        // 14~16점: 경도 스트레스 (2단계)
        // 17~18점: 중등도 스트레스 (3단계)
        // 19점 이상: 심한 스트레스 (4단계)
        let stage;
        if (total <= 13) {
            stage = 1;   // 정상 (0~13점)
        } else if (total <= 16) {
            stage = 2;   // 경도 스트레스 (14~16점)
        } else if (total <= 18) {
            stage = 3;   // 중등도 스트레스 (17~18점)
        } else {
            stage = 4;   // 심한 스트레스 (19점 이상, 최대 40점)
        }

        // fMRI 결과 페이지로 이동 (파일 이름은 필요에 따라 변경)
        window.location.href = `/fmri-type${stage}.html?score=${total}`;
    }
</script>
</body>
</html>